---
layout: default
title: Getting started
---

<h1>Getting started</h1>

<p>
  In this introduction, error handling, and some other details are glossed over.
</p>

<p>
  Connecting to the database looks like this.
</p>

{% highlight javascript %}
  var Connection = require('tedious').Connection;

  var config = {
    userName: 'test',
    password: 'test',
    server: '192.168.1.210',
  };

  var connection = new Connection(config);

  connection.on('connect', function(err) {
    // If no error, then good to go...
      executeStatement();
    }
  );
{% endhighlight %}

<p>
  The arguments to the
  <a href="api-connection.html">
    <code>Connection</code>
  </a>
  constructor are
  <em>host</em>, <em>username</em>, <em>password</em>,
  an <em>options object</em> (empty in this example),
  and a <em>callback function</em>.
</p>

<p>
  The connect event is emitted when either the connection has been established
  and authentication has succeeded, or an error occurred during connection or authentication.
</p>

<p>
  Once a connection has been established, a query can be executed.
</p>

{% highlight javascript %}
  var Request = require('tedious').Request;

  function executeStatement() {
    request = new Request("select 42, 'hello world'", function(err) {
      console.log(err);
    });

    request.on('row', function(columns) {
      columns.forEach(function(column) {
        console.log(column.value);
      });
    });

    request.on('done', function(rowCount, more) {
      console.log(rowCount + ' rows returned');
    });

    connection.execSql(request);
  }
{% endhighlight %}

<p>
  A request is represented by a
  <a href="api-request.html">
    <code>Request</code>
  </a>
  instance.
  The arguments to <code>Request</code>'s constructor are
  the SQL statement, and a callback function.
  The callback is called if an error occurs.
</p>

<p>
  A <code>row</code> event is emitted for each row returned as a result of executing the statement.
  An array of columns is the sole parameter to the callback.
  For each column, a value and metadata is provided (although only the value is used in this example).
</p>

<p>
  A <code>done</code> event is emitted when the statement in the request is completed.
</p>

<p>
  To execute the statement, the <code>Connection</code>'s <code>execute</code> must be called.
</p>

<p>
  An example based around these code fragments can be found in
  <a href="https://github.com/pekim/tedious/blob/master/examples/minimal.js">
    <code>examples/minimal.js</code>
  </a>.
</p>
